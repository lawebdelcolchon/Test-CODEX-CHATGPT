import{r as o,u as h,b as j,j as e,L as g,v as y,p as T}from"./index-CUbjpvjr.js";import{L as v}from"./LandingIntro-C_Sk1yJt.js";import{I as l,E as N}from"./ErrorText-B8y8r1KA.js";function _(){const d={first_name:"",last_name:"",email:"",password:"",id_number:""},[m,n]=o.useState(!1),[c,t]=o.useState(""),[s,u]=o.useState(d),x=h(),{error:p}=j(a=>a.user),f=a=>{if(a.preventDefault(),t(""),s.first_name.trim()==="")return t("El nombre es requerido!");if(s.last_name.trim()==="")return t("El apellido es requerido!");if(s.email.trim()==="")return t("El email es requerido!");if(s.password.trim()==="")return t("La contraseña es requerida!");if(s.id_number.trim()==="")return t("La cédula es requerida!");n(!0),x(y(s)).then(i=>{if(i.error)t(i.error.message),n(!1);else{const b=i.payload.token;T(b),n(!1),window.location.href="/login"}})},r=({updateType:a,value:i})=>{t(""),u({...s,[a]:i})};return e.jsx("div",{className:"min-h-screen bg-base-200 flex items-center",children:e.jsx("div",{className:"card mx-auto w-full max-w-5xl shadow-xl",children:e.jsxs("div",{className:"grid md:grid-cols-2 grid-cols-1 bg-base-100 rounded-xl",children:[e.jsx("div",{className:"",children:e.jsx(v,{})}),e.jsxs("div",{className:"py-20 px-10",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-2 text-center",children:"Registro"}),e.jsxs("form",{onSubmit:f,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(l,{defaultValue:s.first_name,updateType:"first_name",containerStyle:"mt-2",labelTitle:"Nombres",updateFormValue:r}),e.jsx(l,{defaultValue:s.last_name,updateType:"last_name",containerStyle:"mt-2",labelTitle:"Apellidos",updateFormValue:r}),e.jsx(l,{defaultValue:s.email,updateType:"email",containerStyle:"mt-2",labelTitle:"Email",updateFormValue:r}),e.jsx(l,{defaultValue:s.password,type:"password",updateType:"password",containerStyle:"mt-2",labelTitle:"Password",updateFormValue:r}),e.jsx(l,{defaultValue:s.id_number,updateType:"id_number",containerStyle:"mt-2",labelTitle:"Número Identificación",updateFormValue:r})]}),e.jsx(N,{styleClass:"mt-8",children:c||p}),e.jsx("button",{type:"submit",className:`btn mt-2 w-full btn-primary${m?" loading":""}`,children:"Registro"}),e.jsxs("div",{className:"text-center mt-2",children:["Ya tiene una cuenta?"," ",e.jsx(g,{to:"/login",children:e.jsx("span",{className:"inline-block hover:text-primary hover:underline hover:cursor-pointer transition duration-200",children:"Acceder"})})]})]})]})]})})})}function I(){return e.jsx("div",{className:"",children:e.jsx(_,{})})}export{I as default};
