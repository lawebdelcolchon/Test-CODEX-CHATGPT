import{u as L,r as i,b as E,a as I,e as T,j as e,L as S,w as k,x as C}from"./index-2dcVRJTl.js";import{L as O}from"./LandingIntro-Dhkit7FV.js";import{E as q}from"./InputText-p8zaAyHa.js";import{I as A}from"./InputLIst-BwD-GDR7.js";function F(){var l,d;const c={email:"",password:""},m=L(),[u,o]=i.useState(!1),[p,a]=i.useState(""),[t,x]=i.useState(c),{error:n}=E(r=>r.user),f=I(),h=T(),[g,b]=i.useState(!1),j=((d=(l=h.state)==null?void 0:l.from)==null?void 0:d.pathname)||"/app/dashboard",v=async r=>{if(r.preventDefault(),a(""),b(!0),t.email==="")return a("El email es requerido!");if(t.password==="")return a("La contraseña es requerida!");o(!0);try{const s=await m(k(t)).unwrap();s!=null&&s.token?(C(s.token),o(!1),f(j,{replace:!0})):a("Login falló. Por favor, revisa tus credenciales.")}catch(s){a(s.message==="Cannot read properties of undefined (reading 'data')"?"Error de conexión, contacte al administrador":s.message)}finally{o(!1)}},w=(r,s)=>{a(""),x(N=>({...N,[r]:s}))},y=[{type:"input",inputType:"email",labelTitle:"Email",name:"email",placeholder:"Correo electrónico",value:t.email,position:"top",border:"bordered",size:"md",isRequired:!0},{type:"input",inputType:"password",labelTitle:"Contraseña",name:"password",placeholder:"Contraseña",value:t.password,position:"top",border:"bordered",size:"md",isRequired:!0}];return e.jsx("div",{className:"min-h-screen bg-base-200 flex items-center",children:e.jsxs("div",{className:"card mx-auto w-full max-w-5xl shadow-xl",children:[e.jsx("div",{className:"w-full sm:hidden",children:e.jsx("img",{src:"/Login-01.png",alt:"logo",className:"object-cover w-full"})}),e.jsxs("div",{className:"grid md:grid-cols-2 grid-cols-1 bg-base-100 rounded-xl",children:[e.jsx("div",{children:e.jsx(O,{})}),e.jsxs("div",{className:"py-12 px-10 my-auto",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-2 text-center",children:"Acceso"}),e.jsxs("form",{onSubmit:v,children:[e.jsx("div",{className:"mb-4 space-y-2",children:e.jsx(A,{infoItems:y,updateFormValue:w,fieldValues:t,shouldValidate:g})}),e.jsx("div",{className:"text-right text-primary",children:e.jsx(S,{to:"/forgot-password",children:e.jsx("span",{className:"text-sm inline-block hover:text-primary hover:underline hover:cursor-pointer transition duration-200",children:"Olvidó la contraseña?"})})}),e.jsx(q,{styleClass:"mt-8",children:p||(n==null?void 0:n.message)}),e.jsx("button",{type:"submit",className:`btn mt-2 w-full btn-primary${u?" loading":""}`,children:"Acceder"})]})]})]})]})})}function M(){return e.jsx("div",{className:"",children:e.jsx(F,{})})}export{M as default};
//# sourceMappingURL=Login-BEuh7OZh.js.map
