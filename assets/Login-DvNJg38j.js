import{r as l,u as j,b as v,a as b,j as e,L as c,n as N,p as y}from"./index-CUbjpvjr.js";import{L as w}from"./LandingIntro-C_Sk1yJt.js";import{I as d,E as L}from"./ErrorText-B8y8r1KA.js";function T(){const m={email:"",password:""},[u,i]=l.useState(!1),[x,a]=l.useState(""),[t,p]=l.useState(m),h=j(),{error:n}=v(r=>r.user),g=b(),f=async r=>{if(r.preventDefault(),a(""),t.email.trim()==="")return a("El email es requerido!");if(t.password.trim()==="")return a("La contraseña es requerida!");i(!0);try{const s=await h(N(t)).unwrap();s!=null&&s.token?(y(s.token),i(!1),g("/")):a("Login falló. Por favor, revisa tus credenciales.")}catch(s){s.message==="Cannot read properties of undefined (reading 'data')"?a("Error de conexión, contacte al administrador"):a(s.message)}finally{i(!1)}},o=({updateType:r,value:s})=>{a(""),p({...t,[r]:s})};return e.jsx("div",{className:"min-h-screen bg-base-200 flex items-center",children:e.jsxs("div",{className:"card mx-auto w-full max-w-5xl shadow-xl",children:[e.jsx("div",{className:"w-full sm:hidden",children:e.jsx("img",{src:"/Login-01.png",alt:"logo",className:"object-cover w-full"})}),e.jsxs("div",{className:"grid md:grid-cols-2 grid-cols-1 bg-base-100 rounded-xl",children:[e.jsx("div",{children:e.jsx(w,{})}),e.jsxs("div",{className:"py-12 px-10 my-auto",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-2 text-center",children:"Acceso"}),e.jsxs("form",{onSubmit:f,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(d,{defaultValue:t.email,inputType:"email",updateType:"email",containerStyle:"mt-4",labelTitle:"Email",updateFormValue:o}),e.jsx(d,{defaultValue:t.password,inputType:"password",updateType:"password",containerStyle:"mt-4",labelTitle:"Contraseña",updateFormValue:o})]}),e.jsx("div",{className:"text-right text-primary",children:e.jsx(c,{to:"/forgot-password",children:e.jsx("span",{className:"text-sm inline-block hover:text-primary hover:underline hover:cursor-pointer transition duration-200",children:"Olvidó la contraseña?"})})}),e.jsx(L,{styleClass:"mt-8",children:x||(n==null?void 0:n.message)}),e.jsx("button",{type:"submit",className:`btn mt-2 w-full btn-primary${u?" loading":""}`,children:"Acceder"}),e.jsxs("div",{className:"text-center mt-4",children:["No tiene una cuenta aún?"," ",e.jsx(c,{to:"/register",children:e.jsx("span",{className:"inline-block hover:text-primary hover:underline hover:cursor-pointer transition duration-200",children:"Registrar"})})]})]})]})]})]})})}function k(){return e.jsx("div",{className:"",children:e.jsx(T,{})})}export{k as default};
