"use strict";(self.webpackChunkadmin_dashboard_template_dashwind=self.webpackChunkadmin_dashboard_template_dashwind||[]).push([[693],{3073:(e,t,s)=>{s.d(t,{A:()=>o});var n=s(3851),l=s(579);const o=function(e){let{title:t,children:s,topMargin:o,TopSideButtons:i}=e;return(0,l.jsxs)("div",{className:"card w-full p-4 bg-base-100 shadow-xl "+(o||"mt-2"),children:[(0,l.jsxs)(n.A,{styleClass:i?"inline-block":"",children:[t,i&&(0,l.jsx)("div",{className:"inline-block float-left",children:i})]}),(0,l.jsx)("div",{className:"h-full w-full bg-base-100",children:s})]})}},3851:(e,t,s)=>{s.d(t,{A:()=>l});var n=s(579);const l=function(e){let{styleClass:t,children:s}=e;return(0,n.jsx)("div",{className:`text-xl font-semibold ${t}`,children:s})}},940:(e,t,s)=>{s.d(t,{A:()=>j});var n=s(5043),l=s(9456),o=s(8011),i=s(3073),a=s(5140),r=(s(8379),s(8662)),d=s(6287),c=s(5442),m=s(7962),h=s(8443),u=s(6178),b=s.n(u),x=s(579);const j=function(e){let{entityName:t,entityTitles:s,entityMinTitles:u,fields:j,fieldsMin:w,interval:f=50,sort:p,sortOrder:g="desc",panels:N=[],icons:v,mergedColumns:_=null,mergedColumnsMin:y=null,query:C=null,widthMain:k,widthPanel:A}=e;const T=(0,l.wA)(),E=(0,l.d4)((e=>C&&C.length>0?e.api.executeSQLResult:e.api.entities)),{search:L}=(0,n.useContext)(a.g),[S,M]=(0,n.useState)(null),[W,P]=(0,n.useState)(1),[z,B]=(0,n.useState)(1),[D,H]=(0,n.useState)(1),[O,R]=(0,n.useState)(0),[I,Y]=(0,n.useState)(0),[q,F]=(0,n.useState)(f),[J,U]=(0,n.useState)(!1),{empresa:$,setEmpresa:G}=(0,h.d)(),[Q,Z]=(0,n.useState)(""),K=e=>{const t="lawebdelcolchon.es"===e?"lawebes":"ergonatur.es"===e?"ergonatur":"lawebes";Z(t),ee(1,50,t)},V=e=>{G(e),P(1),K(e)},X=e=>{F(e),P(1),ee(1,e)},ee=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q,n=arguments.length>2?arguments[2]:void 0;if(console.log(n),C&&C.length>0){const{dbName:t,fields:l,pivotTable:i,joinTables:a,joinCondition:r,whereCondition:d,orderBy:c}=C[0];T("Todos"===s?(0,o.ar)({fields:l,pivotTable:i,joinTables:a,joinCondition:r,whereCondition:d,orderBy:c,dbName:n}):(0,o.ar)({fields:l,pivotTable:i,joinTables:a,joinCondition:r,whereCondition:d,orderBy:c,page:e,limit:s,dbName:n}))}else T("Todos"===s?(0,o.U3)({entityName:t,fields:j,sort:p,sortOrder:g,dbName:n}):(0,o.U3)({entityName:t,page:e,fields:j,sort:p,sortOrder:g,limit:s,dbName:n}))};(0,n.useEffect)((()=>{K($)}),[$]),(0,n.useEffect)((()=>{""!==Q&&ee(W,q,Q)}),[W,q,Q]),(0,n.useEffect)((()=>{E&&(B(E.totalPages),H(E.firstRecordIndex),R(E.lastRecordIndex),Y(E.totalRecords))}),[E]),(0,n.useEffect)((()=>{var e;L&&(e=L,E.items.filter((t=>t.name.toLowerCase().includes(e.toLowerCase()))))}),[L]),(0,n.useEffect)((()=>{const e=()=>U(window.innerWidth<=768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const te=J?u:s,se=J?w:j,ne=J?y:_,le=(e,t)=>{let s;const n=(l=t.trim()).startsWith("fecha_")||l.startsWith("date_");var l;return s="enabled"===t.trim()||t.trim().startsWith("status")?1===e?(0,x.jsx)(m.mmf,{className:"w-4 h-4 font-bold text-green-500"}):(0,x.jsx)(m.fZH,{className:"w-4 h-4 font-bold text-red-500"}):n&&!isNaN(Date.parse(e))?(e=>{const t=new Date(e);return isNaN(t)?e:b()(t).format("DD/MM/YYYY HH:mm")})(e):null===e||void 0===e||"number"===typeof e&&isNaN(e)?"N/A":"number"===typeof e?Number.isInteger(e)?e:e.toFixed(3):e,s};let oe="",ie="";return"1/2"==k?(oe="overflow-x-auto w-full md:w-1/2",ie="h-full pl-0 hidden md:block w-1/2"):"3/4"==k?(oe="overflow-x-auto w-full md:w-3/4",ie="h-full pl-0 hidden md:block w-1/4"):"1/4"==k?(oe="overflow-x-auto w-full md:w-1/4",ie="h-full pl-0 hidden md:block w-3/4"):"3/5"==k?(oe="overflow-x-auto w-full md:w-3/5",ie="h-full pl-0 hidden md:block w-2/5"):"2/2"==k?(oe="overflow-x-auto w-full md:w-2/2",ie="h-full pl-0 hidden md:block w-0"):(oe="overflow-x-auto w-full md:w-1/2",ie="h-full pl-0 hidden md:block w-1/2"),(0,x.jsx)(i.A,{topMargin:"mt-2",children:(0,x.jsxs)("div",{className:"h-full w-full bg-base-100 flex",children:[(0,x.jsx)("div",{className:oe,style:{maxHeight:"82vh"},children:(0,x.jsxs)("table",{className:"table table-xs table-pin-rows table-pin-cols w-full h-full",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{style:{borderBottom:"2px solid rgb(229, 231, 235)"},children:[(0,x.jsx)("th",{children:"#"}),ne?ne.map(((e,t)=>(0,x.jsx)("th",{children:e.title},t))):te.map(((e,t)=>(0,x.jsx)("th",{children:e},t))),(0,x.jsx)("th",{style:{width:"113px"},children:"Acciones"})]})}),(0,x.jsx)("tbody",{children:Array.isArray(null===E||void 0===E?void 0:E.items)&&!(void 0===D)&&E.items.map(((e,t)=>{const s=D+t;return(0,x.jsxs)("tr",{id:`${e.id}`,className:(S===t?"bg-gray-300 hover:bg-gray-300":"hover:bg-gray-200")+" hover:bg-gray-200",onClick:()=>(e=>{M(e)})(t),children:[(0,x.jsx)("td",{children:s}),ne?ne.map(((t,s)=>{const{fields:n}=t;let l;if(n.length>1)l=(0,x.jsx)("div",{children:n.map(((t,s)=>{const n=e[t.trim()],l=le(n,t);return 0===s?(0,x.jsxs)("div",{className:"font-bold",children:[(0,x.jsx)("span",{className:"text-blue-500",children:e.id})," ",l]},s):1===s?(0,x.jsx)("div",{className:"text-xs opacity-70",children:l},s):2===s?(0,x.jsx)("span",{className:"badge badge-ghost badge-sm",children:l},s):null}))});else{const t=n[0].trim(),s=e[t];l=le(s,t)}let o="left";return"number"===typeof l?o="right":("enabled"===n[0].trim()||n[0].trim().startsWith("status"))&&(o="center"),(0,x.jsx)("td",{style:{textAlign:o},children:l},s)})):se.split(",").map(((t,s)=>{const n=e[t.trim()],l=le(n,t.trim());let o="left";return"number"===typeof l?o="right":("enabled"===t.trim()||t.trim().startsWith("status"))&&(o="center"),(0,x.jsx)("td",{style:{textAlign:o},children:l},s)})),(0,x.jsx)("td",{children:v.map(((e,t)=>{const{icon:s,message:n}=e;return(0,x.jsx)("button",{className:"btn btn-square btn-ghost btn-xs",title:n,children:(0,x.jsx)(s,{className:"w-4 h-4"})},t)}))})]},t)}))}),(0,x.jsx)("tfoot",{children:(0,x.jsx)("tr",{children:(0,x.jsx)("th",{colSpan:"9",children:(0,x.jsxs)("div",{className:"join",children:[(0,x.jsxs)("button",{className:"join-item btn btn-xs btn-ghost",children:[(0,x.jsx)(m.JJh,{className:"w-4"}),J?"":"Buscar"]}),(0,x.jsxs)("div",{className:"dropdown dropdown-top join-item",children:[(0,x.jsxs)("button",{className:"join-item btn btn-xs btn-ghost",children:[D," - ",O," de ",I]}),(0,x.jsxs)("ul",{className:"dropdown-content menu bg-base-100 rounded-box w-40 p-2 shadow",children:[(0,x.jsx)("li",{children:(0,x.jsx)("button",{onClick:()=>P(1),children:"Primera p\xe1gina"})}),(0,x.jsx)("li",{children:(0,x.jsx)("button",{onClick:()=>P(z),children:"\xdaltima p\xe1gina"})})]})]}),(0,x.jsx)("button",{className:"join-item btn btn-xs btn-ghost",onClick:()=>W>1&&P(W-1),disabled:W<=1,children:(0,x.jsx)(c.A,{className:"w-4"})}),(0,x.jsx)("button",{className:"join-item btn btn-xs btn-ghost",onClick:()=>W<z&&P(W+1),disabled:W>=z,children:(0,x.jsx)(d.A,{className:"w-4"})}),(0,x.jsxs)("div",{className:"dropdown dropdown-top join-item",children:[(0,x.jsxs)("button",{className:"join-item btn btn-xs btn-ghost",children:["L\xedmite: ",q]}),(0,x.jsxs)("ul",{className:"dropdown-content menu bg-base-100 rounded-box w-40 p-2 shadow",children:[(0,x.jsx)("li",{children:(0,x.jsx)("button",{onClick:()=>X(50),children:"50"})}),(0,x.jsx)("li",{children:(0,x.jsx)("button",{onClick:()=>X(100),children:"100"})}),(0,x.jsx)("li",{children:(0,x.jsx)("button",{onClick:()=>X(200),children:"200"})}),(0,x.jsx)("li",{children:(0,x.jsx)("button",{onClick:()=>X(500),children:"500"})}),(0,x.jsx)("li",{children:(0,x.jsx)("button",{onClick:()=>X("Todos"),children:"Todos"})})]})]}),(0,x.jsxs)("button",{className:"join-item btn btn-xs btn-ghost",children:[(0,x.jsx)(r.A,{className:"w-4"}),J?"":"Agregar"]}),(0,x.jsxs)("div",{className:"dropdown dropdown-top dropdown-end join-item",children:[(0,x.jsxs)("button",{className:"join-item btn btn-xs btn-ghost",children:[(0,x.jsx)(m.ucG,{className:"w-4"}),J?"":$]}),(0,x.jsxs)("ul",{className:"dropdown-content menu bg-base-100 rounded-box w-40 p-2 shadow",children:[(0,x.jsx)("li",{children:(0,x.jsx)("button",{onClick:()=>V("lawebdelcolchon.es"),children:"lawebdelcolchon.es"})}),(0,x.jsx)("li",{children:(0,x.jsx)("button",{onClick:()=>V("ergonatur.es"),children:"ergonatur.es"})}),(0,x.jsx)("li",{children:(0,x.jsx)("button",{onClick:()=>V("mueblescantero.es"),children:"mueblescantero.es"})}),(0,x.jsx)("li",{children:(0,x.jsx)("button",{onClick:()=>V("dibermodel.es"),children:"dibermodel.es"})})]})]})]})})})})]})}),""!=A?(0,x.jsx)("div",{className:ie,style:{maxHeight:"82vh"},children:(0,x.jsx)("div",{role:"tablist",className:"tabs tabs-bordered",children:N.map(((e,t)=>(0,x.jsx)("button",{role:"tab",className:"tab",children:e},t+1)))})}):""]})})}},5693:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var n=s(5043),l=s(9456),o=s(8379),i=s(940),a=s(3002),r=s(9248),d=s(579);const c=function(){const e=(0,l.wA)();(0,n.useEffect)((()=>{e((0,o.wE)({title:"Amazon Comisiones"}))}),[]);const t=[{icon:a.R5w,message:"Editar Transacci\xf3n"},{icon:r.A,message:"Eliminar Transacci\xf3n"}];return(0,d.jsx)(i.A,{entityName:"ControlOAmazon",dbName:"lawebes",entityTitles:["Fecha","Plataforma","Num. Transacci\xf3n","Concepto","Num. Pedido","Pedido LWC","C\xf3digo","C\xf3digo LWC","Total","Total LWC","Tipo","Detalle","Situaci\xf3n"],entityMinTitles:["Fecha","Plataforma"],fields:"date_o, platform, invoice, type, id_order, order_platform, c_order, code_order, total_o, grandtotal, type_a, description_a, status_payed  ",fieldsMin:"date_o, platform",interval:50,sort:"id",sortOrder:"asc",icons:t,widthMain:"2/2",widthPanel:"",query:[{fields:"date_o, gt_control_o_amazon.platform, invoice, type, id_order, gt_orders.order_platform, c_order, gt_orders.code_order, total_o, gt_orders.grandtotal, type_a, description_a, gt_control_o_amazon.payed as status_payed ",pivotTable:"gt_control_o_amazon, gt_orders",whereCondition:"gt_control_o_amazon.c_order = gt_orders.id",orderBy:"date_o DESC",page:"1",limit:"50",noPagination:"false"}]})}},9248:(e,t,s)=>{s.d(t,{A:()=>o});var n=s(5043);function l(e,t){let{title:s,titleId:l,...o}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},o),s?n.createElement("title",{id:l},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const o=n.forwardRef(l)}}]);
//# sourceMappingURL=693.e1de6a94.chunk.js.map