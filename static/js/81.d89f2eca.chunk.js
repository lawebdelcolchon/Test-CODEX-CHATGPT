"use strict";(self.webpackChunkadmin_dashboard_template_dashwind=self.webpackChunkadmin_dashboard_template_dashwind||[]).push([[81],{3073:(e,t,s)=>{s.d(t,{A:()=>i});var l=s(3851),n=s(579);const i=function(e){let{title:t,children:s,topMargin:i,TopSideButtons:o}=e;return(0,n.jsxs)("div",{className:"card w-full p-4 bg-base-100 shadow-xl "+(i||"mt-2"),children:[(0,n.jsxs)(l.A,{styleClass:o?"inline-block":"",children:[t,o&&(0,n.jsx)("div",{className:"inline-block float-left",children:o})]}),(0,n.jsx)("div",{className:"h-full w-full bg-base-100",children:s})]})}},3851:(e,t,s)=>{s.d(t,{A:()=>n});var l=s(579);const n=function(e){let{styleClass:t,children:s}=e;return(0,l.jsx)("div",{className:`text-xl font-semibold ${t}`,children:s})}},940:(e,t,s)=>{s.d(t,{A:()=>j});var l=s(5043),n=s(9456),i=s(8011),o=s(3073),d=s(5140),a=(s(8379),s(8662)),r=s(6287),c=s(5442),h=s(7962),m=s(8443),u=s(6178),b=s.n(u),x=s(579);const j=function(e){let{entityName:t,entityTitles:s,entityMinTitles:u,fields:j,fieldsMin:p,interval:f=50,sort:w,sortOrder:g="desc",panels:v=[],icons:N,mergedColumns:C=null,mergedColumnsMin:y=null,query:_=null,widthMain:k,widthPanel:A}=e;const T=(0,n.wA)(),E=(0,n.d4)((e=>_&&_.length>0?e.api.executeSQLResult:e.api.entities)),{search:P}=(0,l.useContext)(d.g),[S,M]=(0,l.useState)(null),[B,D]=(0,l.useState)(1),[F,L]=(0,l.useState)(1),[O,R]=(0,l.useState)(1),[W,H]=(0,l.useState)(0),[Y,q]=(0,l.useState)(0),[I,z]=(0,l.useState)(f),[G,J]=(0,l.useState)(!1),{empresa:U,setEmpresa:V}=(0,m.d)(),[$,Q]=(0,l.useState)(""),Z=e=>{const t="lawebdelcolchon.es"===e?"lawebes":"ergonatur.es"===e?"ergonatur":"lawebes";Q(t),ee(1,50,t)},K=e=>{V(e),D(1),Z(e)},X=e=>{z(e),D(1),ee(1,e)},ee=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I,l=arguments.length>2?arguments[2]:void 0;if(console.log(l),_&&_.length>0){const{dbName:t,fields:n,pivotTable:o,joinTables:d,joinCondition:a,whereCondition:r,orderBy:c}=_[0];T("Todos"===s?(0,i.ar)({fields:n,pivotTable:o,joinTables:d,joinCondition:a,whereCondition:r,orderBy:c,dbName:l}):(0,i.ar)({fields:n,pivotTable:o,joinTables:d,joinCondition:a,whereCondition:r,orderBy:c,page:e,limit:s,dbName:l}))}else T("Todos"===s?(0,i.U3)({entityName:t,fields:j,sort:w,sortOrder:g,dbName:l}):(0,i.U3)({entityName:t,page:e,fields:j,sort:w,sortOrder:g,limit:s,dbName:l}))};(0,l.useEffect)((()=>{Z(U)}),[U]),(0,l.useEffect)((()=>{""!==$&&ee(B,I,$)}),[B,I,$]),(0,l.useEffect)((()=>{E&&(L(E.totalPages),R(E.firstRecordIndex),H(E.lastRecordIndex),q(E.totalRecords))}),[E]),(0,l.useEffect)((()=>{var e;P&&(e=P,E.items.filter((t=>t.name.toLowerCase().includes(e.toLowerCase()))))}),[P]),(0,l.useEffect)((()=>{const e=()=>J(window.innerWidth<=768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const te=G?u:s,se=G?p:j,le=G?y:C,ne=(e,t)=>{let s;const l=(n=t.trim()).startsWith("fecha_")||n.startsWith("date_");var n;return s="enabled"===t.trim()||t.trim().startsWith("status")?1===e?(0,x.jsx)(h.mmf,{className:"w-4 h-4 font-bold text-green-500"}):(0,x.jsx)(h.fZH,{className:"w-4 h-4 font-bold text-red-500"}):l&&!isNaN(Date.parse(e))?(e=>{const t=new Date(e);return isNaN(t)?e:b()(t).format("DD/MM/YYYY HH:mm")})(e):null===e||void 0===e||"number"===typeof e&&isNaN(e)?"N/A":"number"===typeof e?Number.isInteger(e)?e:e.toFixed(3):e,s};let ie="",oe="";return"1/2"==k?(ie="overflow-x-auto w-full md:w-1/2",oe="h-full pl-0 hidden md:block w-1/2"):"3/4"==k?(ie="overflow-x-auto w-full md:w-3/4",oe="h-full pl-0 hidden md:block w-1/4"):"1/4"==k?(ie="overflow-x-auto w-full md:w-1/4",oe="h-full pl-0 hidden md:block w-3/4"):"3/5"==k?(ie="overflow-x-auto w-full md:w-3/5",oe="h-full pl-0 hidden md:block w-2/5"):"2/2"==k?(ie="overflow-x-auto w-full md:w-2/2",oe="h-full pl-0 hidden md:block w-0"):(ie="overflow-x-auto w-full md:w-1/2",oe="h-full pl-0 hidden md:block w-1/2"),(0,x.jsx)(o.A,{topMargin:"mt-2",children:(0,x.jsxs)("div",{className:"h-full w-full bg-base-100 flex",children:[(0,x.jsx)("div",{className:ie,style:{maxHeight:"82vh"},children:(0,x.jsxs)("table",{className:"table table-xs table-pin-rows table-pin-cols w-full h-full",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{style:{borderBottom:"2px solid rgb(229, 231, 235)"},children:[(0,x.jsx)("th",{children:"#"}),le?le.map(((e,t)=>(0,x.jsx)("th",{children:e.title},t))):te.map(((e,t)=>(0,x.jsx)("th",{children:e},t))),(0,x.jsx)("th",{style:{width:"113px"},children:"Acciones"})]})}),(0,x.jsx)("tbody",{children:Array.isArray(null===E||void 0===E?void 0:E.items)&&!(void 0===O)&&E.items.map(((e,t)=>{const s=O+t;return(0,x.jsxs)("tr",{id:`${e.id}`,className:(S===t?"bg-gray-300 hover:bg-gray-300":"hover:bg-gray-200")+" hover:bg-gray-200",onClick:()=>(e=>{M(e)})(t),children:[(0,x.jsx)("td",{children:s}),le?le.map(((t,s)=>{const{fields:l}=t;let n;if(l.length>1)n=(0,x.jsx)("div",{children:l.map(((t,s)=>{const l=e[t.trim()],n=ne(l,t);return 0===s?(0,x.jsxs)("div",{className:"font-bold",children:[(0,x.jsx)("span",{className:"text-blue-500",children:e.id})," ",n]},s):1===s?(0,x.jsx)("div",{className:"text-xs opacity-70",children:n},s):2===s?(0,x.jsx)("span",{className:"badge badge-ghost badge-sm",children:n},s):null}))});else{const t=l[0].trim(),s=e[t];n=ne(s,t)}let i="left";return"number"===typeof n?i="right":("enabled"===l[0].trim()||l[0].trim().startsWith("status"))&&(i="center"),(0,x.jsx)("td",{style:{textAlign:i},children:n},s)})):se.split(",").map(((t,s)=>{const l=e[t.trim()],n=ne(l,t.trim());let i="left";return"number"===typeof n?i="right":("enabled"===t.trim()||t.trim().startsWith("status"))&&(i="center"),(0,x.jsx)("td",{style:{textAlign:i},children:n},s)})),(0,x.jsx)("td",{children:N.map(((e,t)=>{const{icon:s,message:l}=e;return(0,x.jsx)("button",{className:"btn btn-square btn-ghost btn-xs",title:l,children:(0,x.jsx)(s,{className:"w-4 h-4"})},t)}))})]},t)}))}),(0,x.jsx)("tfoot",{children:(0,x.jsx)("tr",{children:(0,x.jsx)("th",{colSpan:"9",children:(0,x.jsxs)("div",{className:"join",children:[(0,x.jsxs)("button",{className:"join-item btn btn-xs btn-ghost",children:[(0,x.jsx)(h.JJh,{className:"w-4"}),G?"":"Buscar"]}),(0,x.jsxs)("div",{className:"dropdown dropdown-top join-item",children:[(0,x.jsxs)("button",{className:"join-item btn btn-xs btn-ghost",children:[O," - ",W," de ",Y]}),(0,x.jsxs)("ul",{className:"dropdown-content menu bg-base-100 rounded-box w-40 p-2 shadow",children:[(0,x.jsx)("li",{children:(0,x.jsx)("button",{onClick:()=>D(1),children:"Primera p\xe1gina"})}),(0,x.jsx)("li",{children:(0,x.jsx)("button",{onClick:()=>D(F),children:"\xdaltima p\xe1gina"})})]})]}),(0,x.jsx)("button",{className:"join-item btn btn-xs btn-ghost",onClick:()=>B>1&&D(B-1),disabled:B<=1,children:(0,x.jsx)(c.A,{className:"w-4"})}),(0,x.jsx)("button",{className:"join-item btn btn-xs btn-ghost",onClick:()=>B<F&&D(B+1),disabled:B>=F,children:(0,x.jsx)(r.A,{className:"w-4"})}),(0,x.jsxs)("div",{className:"dropdown dropdown-top join-item",children:[(0,x.jsxs)("button",{className:"join-item btn btn-xs btn-ghost",children:["L\xedmite: ",I]}),(0,x.jsxs)("ul",{className:"dropdown-content menu bg-base-100 rounded-box w-40 p-2 shadow",children:[(0,x.jsx)("li",{children:(0,x.jsx)("button",{onClick:()=>X(50),children:"50"})}),(0,x.jsx)("li",{children:(0,x.jsx)("button",{onClick:()=>X(100),children:"100"})}),(0,x.jsx)("li",{children:(0,x.jsx)("button",{onClick:()=>X(200),children:"200"})}),(0,x.jsx)("li",{children:(0,x.jsx)("button",{onClick:()=>X(500),children:"500"})}),(0,x.jsx)("li",{children:(0,x.jsx)("button",{onClick:()=>X("Todos"),children:"Todos"})})]})]}),(0,x.jsxs)("button",{className:"join-item btn btn-xs btn-ghost",children:[(0,x.jsx)(a.A,{className:"w-4"}),G?"":"Agregar"]}),(0,x.jsxs)("div",{className:"dropdown dropdown-top dropdown-end join-item",children:[(0,x.jsxs)("button",{className:"join-item btn btn-xs btn-ghost",children:[(0,x.jsx)(h.ucG,{className:"w-4"}),G?"":U]}),(0,x.jsxs)("ul",{className:"dropdown-content menu bg-base-100 rounded-box w-40 p-2 shadow",children:[(0,x.jsx)("li",{children:(0,x.jsx)("button",{onClick:()=>K("lawebdelcolchon.es"),children:"lawebdelcolchon.es"})}),(0,x.jsx)("li",{children:(0,x.jsx)("button",{onClick:()=>K("ergonatur.es"),children:"ergonatur.es"})}),(0,x.jsx)("li",{children:(0,x.jsx)("button",{onClick:()=>K("mueblescantero.es"),children:"mueblescantero.es"})}),(0,x.jsx)("li",{children:(0,x.jsx)("button",{onClick:()=>K("dibermodel.es"),children:"dibermodel.es"})})]})]})]})})})})]})}),""!=A?(0,x.jsx)("div",{className:oe,style:{maxHeight:"82vh"},children:(0,x.jsx)("div",{role:"tablist",className:"tabs tabs-bordered",children:v.map(((e,t)=>(0,x.jsx)("button",{role:"tab",className:"tab",children:e},t+1)))})}):""]})})}},2081:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var l=s(5043),n=s(9456),i=s(8379),o=s(940),d=s(7962),a=s(3002),r=s(579);const c=function(){const e=(0,n.wA)();(0,l.useEffect)((()=>{e((0,i.wE)({title:"Pedidos Proveedores"}))}),[]);const t=[{icon:d.cyc,message:"Ver Devoluci\xf3n"},{icon:d.f9d,message:"Ver Reclamaciones"},{icon:a.R5w,message:"Editar devoluci\xf3n"}];return(0,r.jsx)(o.A,{entityName:"GlobalOrderSupplier",entityTitles:["Proveedor","Cliente","Fecha","Fecha envio","Ped. Cli.","Ped. Prov.","Base","Total","Enviado","Procesado","Comprob"],entityMinTitles:["Fecha","Proveedor"],fields:"name_supplier, name_billing, date_order, date_schedule, code_order, code_union, subtotal, total, status_shipped, status_processed, status_payed ",fieldsMin:"id, name",interval:50,sort:"id",sortOrder:"asc",panels:["Cobros","Pedido","Estado","Expedici\xf3n"],icons:t,widthMain:"1/2",widthPanel:"1/2",query:[{fields:"name_supplier, name_billing, date_order, date_schedule, code_order, code_union, subtotal, total, shipped as status_shipped, processed as status_processed, payed as status_payed ",pivotTable:"gt_global_return_order",whereCondition:"",orderBy:"date_order DESC",page:"1",limit:"50",noPagination:"false"}],mergedColumns:[{fields:["name_supplier","code_order"],title:"Proveedor"},{fields:["name_billing","code_union"],title:"Cliente"},{fields:["date_order"],title:"Fecha Orden"},{fields:["date_schedule"],title:"Fecha Env\xedo"},{fields:["subtotal"],title:"Base"},{fields:["subtotal"],title:"Total"}],mergedColumnsMin:[{fields:["name","email","phone","date_order"],title:"Clientes"},{fields:["enabled"],title:""}]})}}}]);
//# sourceMappingURL=81.d89f2eca.chunk.js.map